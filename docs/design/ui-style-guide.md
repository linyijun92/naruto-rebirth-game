# 火影忍者重生 - UI 设计规范

## 1. 设计概述

### 1.1 设计理念
- **风格定位**：日式动漫风格，融入火影忍者元素
- **情感基调**：神秘、热血、忍术感
- **目标受众**：火影忍者爱好者、文字冒险游戏玩家
- **设计目标**：打造沉浸式忍者世界体验

### 1.2 设计原则
- **一致性**：所有界面保持统一的视觉语言
- **易用性**：操作简单直观，降低学习成本
- **沉浸感**：通过视觉元素增强游戏代入感
- **响应性**：适配不同屏幕尺寸的设备

---

## 2. 视觉风格定义

### 2.1 整体风格
- **主风格**：日式动漫风格
- **辅助风格**：忍者元素、和风图案
- **表现手法**：
  - 线条：简洁有力，具有动感的曲线
  - 阴影：柔和渐变，避免生硬边界
  - 纹理：添加纸张、布料等材质质感
  - 装饰：使用忍术符文、忍者具标志等元素

### 2.2 色彩体系
详见 [color-palette.md](./color-palette.md)

**主要特点：**
- 深灰色作为背景基调
- 橙色和红色作为强调色
- 蓝色和紫色作为辅助色
- 金色用于特殊标识（稀有度、重要提示）

### 2.3 字体规范

#### 中文字体
- **主标题字体**：思源黑体 Bold / 筑紫明朝 Bold
  - 用途：界面主标题、章节标题
  - 字号：24-32pt
  - 字重：Bold (700)

- **副标题字体**：思源黑体 Medium
  - 用途：次级标题、模块标题
  - 字号：18-22pt
  - 字重：Medium (500)

- **正文字体**：思源黑体 Regular
  - 用途：剧情文本、说明文字
  - 字号：14-16pt
  - 字重：Regular (400)

- **UI 字体**：思源黑体
  - 用途：按钮、标签、状态文字
  - 字号：12-14pt
  - 字重：根据层级选择

#### 数字字体
- **属性值字体**：Roboto Mono / 等宽字体
  - 用途：数值显示、等级、时间
  - 特点：清晰易读，对齐整齐

#### 特殊字体
- **忍者符号字体**：自设计图标字体
  - 用途：忍术图标、特殊标记
  - 包含：火、水、风、雷、土等属性符号

### 2.4 图标风格
- **风格**：扁平化设计，带轻微阴影
- **线条**：2-3px 粗细的圆润线条
- **圆角**：4-8px 圆角半径
- **尺寸规范**：
  - 小图标：16×16px、20×20px
  - 中图标：24×24px、32×32px
  - 大图标：48×48px、64×64px

---

## 3. 布局规范

### 3.1 屏幕尺寸适配
- **基准设计尺寸**：375 × 812px (iPhone X)
- **最小支持尺寸**：320 × 568px (iPhone SE)
- **最大支持尺寸**：428 × 926px (iPhone Pro Max)
- **平板适配**：1024 × 768px (iPad)

### 3.2 间距系统
采用 8px 基础网格系统：

| 间距名称 | 值 | 用途 |
|---------|-----|------|
| xs      | 4px | 小元素内间距 |
| sm      | 8px | 按钮内部间距、小间距 |
| md      | 16px | 常规间距、模块间间距 |
| lg      | 24px | 大间距、区块分隔 |
| xl      | 32px | 超大间距、页面边距 |
| xxl     | 48px | 页面顶部/底部边距 |

### 3.3 安全区域
- **顶部安全区**：44px（状态栏 + 导航栏）
- **底部安全区**：34px（手势操作区）
- **左右安全区**：16px

### 3.4 通用布局模板

#### 主界面布局
```
┌─────────────────────────┐
│        顶部导航栏        │ 44px
├─────────────────────────┤
│                         │
│                         │
│        主内容区域        │ 640px
│                         │
│                         │
├─────────────────────────┤
│        底部功能栏        │ 80px
└─────────────────────────┘
```

#### 剧情界面布局
```
┌─────────────────────────┐
│      返回    当前章节    │ 44px
├─────────────────────────┤
│                         │
│       背景插画区域       │ 400px
│                         │
├─────────────────────────┤
│   剧情文本框/对话框      │ 200px
├─────────────────────────┤
│    选项 A    选项 B     │ 68px
└─────────────────────────┘
```

---

## 4. 组件设计规范

### 4.1 按钮

#### 主按钮（Primary Button）
- **尺寸**：宽度自适应，高度 48px
- **背景色**：橙色 (#FF6B00)
- **文字颜色**：白色 (#FFFFFF)
- **字体**：16pt Medium
- **圆角**：8px
- **内边距**：左右 24px
- **阴影**：0 4px 8px rgba(255, 107, 0, 0.3)
- **按压效果**：缩放至 95%

#### 次要按钮（Secondary Button）
- **尺寸**：宽度自适应，高度 44px
- **背景色**：透明
- **边框**：2px 橙色 (#FF6B00)
- **文字颜色**：橙色 (#FF6B00)
- **字体**：14pt Medium
- **圆角**：8px
- **内边距**：左右 20px
- **按压效果**：背景色变为橙色 10%

#### 图标按钮（Icon Button）
- **尺寸**：44 × 44px
- **背景色**：透明
- **图标颜色**：灰色 (#666666)
- **圆角**：8px
- **按压效果**：背景色变为灰色 10%

#### 危险按钮（Destructive Button）
- **尺寸**：同主按钮
- **背景色**：红色 (#E53935)
- **文字颜色**：白色 (#FFFFFF)
- **其他规范**：同主按钮

### 4.2 输入框
- **高度**：48px
- **背景色**：灰色 (#F5F5F5)
- **边框**：1px 灰色 (#E0E0E0)
- **圆角**：8px
- **内边距**：左右 16px
- **字体**：14pt Regular
- **聚焦边框**：2px 橙色 (#FF6B00)
- **占位符颜色**：灰色 (#999999)

### 4.3 卡片
- **背景色**：白色 (#FFFFFF)
- **圆角**：12px
- **阴影**：0 2px 8px rgba(0, 0, 0, 0.1)
- **内边距**：16px
- **间距**：卡片之间 12px

### 4.4 进度条
- **高度**：6px
- **背景色**：灰色 (#E0E0E0)
- **进度色**：橙色渐变 (#FF6B00 → #FF8C00)
- **圆角**：3px
- **动画**：0.3s 缓动

### 4.5 标签（Tag）
- **高度**：24px
- **背景色**：根据类型
  - 主线任务：红色 (#E53935)
  - 支线任务：橙色 (#FF6B00)
  - 日常任务：绿色 (#43A047)
- **文字颜色**：白色 (#FFFFFF)
- **字体**：12pt Medium
- **圆角**：4px
- **内边距**：左右 8px

### 4.6 对话框
- **背景色**：白色 (#FFFFFF)
- **圆角**：16px
- **阴影**：0 4px 16px rgba(0, 0, 0, 0.2)
- **内边距**：24px
- **最大宽度**：320px

---

## 5. 动画效果

### 5.1 基础动画参数
- **标准时长**：
  - 快速：150ms（点击反馈）
  - 中等：300ms（页面切换）
  - 慢速：500ms（特殊效果）

- **缓动函数**：
  - 标准缓出：ease-out
  - 弹性：cubic-bezier(0.68, -0.55, 0.265, 1.55)
  - 平滑：cubic-bezier(0.4, 0, 0.2, 1)

### 5.2 页面切换动画

#### 淡入淡出（Fade）
- **持续时间**：300ms
- **缓动**：ease-in-out
- **应用场景**：普通页面切换

#### 滑动（Slide）
- **持续时间**：300ms
- **缓动**：ease-out
- **应用场景**：
  - 进入：从右向左滑入
  - 返回：从左向右滑出

#### 缩放（Scale）
- **持续时间**：300ms
- **缓动**：cubic-bezier(0.175, 0.885, 0.32, 1.275)
- **应用场景**：弹窗、选项展开

### 5.3 交互动画

#### 按钮点击
- **效果**：缩放至 95%
- **持续时间**：100ms
- **缓动**：ease-out
- **恢复**：300ms

#### 卡片悬停
- **效果**：Y 轴向上位移 4px，阴影增强
- **持续时间**：200ms
- **缓动**：ease-out

#### 列表项进入
- **效果**：依次从左向右淡入
- **间隔**：50ms
- **持续时间**：300ms
- **缓动**：ease-out

### 5.4 特殊动画

#### 忍术效果
- **持续时间**：800-1200ms
- **效果**：粒子效果、光晕、能量波动
- **缓动**：自定义缓动曲线

#### 属性提升
- **效果**：数字滚动 + 高亮闪烁
- **持续时间**：800ms
- **缓动**：ease-out

#### 剧情过渡
- **效果**：淡出 → 黑屏 → 淡入
- **持续时间**：1000ms
- **场景切换点**：500ms

---

## 6. Flutter 切图规范

### 6.1 图片资源格式
- **图标**：SVG 矢量格式（推荐）或 PNG
- **插图**：PNG 格式，支持透明背景
- **背景**：JPG 格式（无透明）或 PNG（有透明）
- **动画**：Lottie (JSON) 或 GIF

### 6.2 多倍图规范
Flutter 使用不同的密度倍率：

| 倍率 | 命名后缀 | 使用场景 |
|-----|---------|---------|
| 1x  | （无后缀）| 基准尺寸 |
| 2x  | @2x      | Retina 屏幕 |
| 3x  | @3x      | 高清屏幕 |

**示例：**
- 基准：`icon_home.png` (24×24px)
- 2x：`icon_home@2x.png` (48×48px)
- 3x：`icon_home@3x.png` (72×72px)

### 6.3 文件夹结构
```
assets/
├── images/
│   ├── common/
│   │   ├── background/
│   │   ├── icons/
│   │   └── ui_elements/
│   ├── characters/
│   ├── scenarios/
│   └── jutsu/
├── animations/
│   ├── jutsu_effects/
│   └── ui_animations/
└── fonts/
    ├── SourceHanSansCN/
    ├── SourceHanSerifCN/
    └── CustomNinjaIcons/
```

### 6.4 图片优化要求
- **PNG 优化**：使用 TinyPNG 压缩，目标：-50% 文件大小
- **JPG 优化**：质量 85%，渐进式加载
- **SVG 优化**：移除冗余代码，压缩
- **WebP 支持**：优先使用 WebP 格式（比 PNG 小 30%）

### 6.5 图标导出规范
- **格式**：SVG（可缩放）
- **尺寸**：24×24px 标准尺寸
- **描边**：2px 线宽
- **填充**：使用 currentColor
- **命名**：`icon_{功能描述}.svg`

### 6.6 字体资源
- **格式**：TTF 或 OTF
- **子集化**：仅包含中文字符（减少文件大小）
- **权重**：Regular、Medium、Bold
- **配置**：在 `pubspec.yaml` 中声明

---

## 7. 可访问性规范

### 7.1 颜色对比度
- **正文文字**：对比度 ≥ 4.5:1（WCAG AA）
- **大文字（18pt+）**：对比度 ≥ 3:1
- **UI 元素**：对比度 ≥ 3:1

### 7.2 触摸目标尺寸
- **最小尺寸**：44 × 44px
- **推荐尺寸**：48 × 48px
- **间距**：触摸目标之间至少 8px

### 7.3 文字可读性
- **最小字号**：12pt
- **行高**：1.5-1.8 倍字号
- **最大行长**：60-80 字符

---

## 8. 版本控制

### 8.1 设计版本号
格式：`v{主版本}.{次版本}.{修订号}`

示例：
- v1.0.0 - 初始版本
- v1.1.0 - 新增组件
- v1.1.1 - 修复错误

### 8.2 更新记录
所有设计更新需在文档末尾记录变更：
- 日期
- 版本号
- 变更内容
- 变更原因

---

## 9. 设计交付清单

开发团队交付时需包含：

### 9.1 设计文件
- [ ] UI 设计规范（本文档）
- [ ] 配色方案（color-palette.md）
- [ ] 界面设计方案（screen-designs.md）
- [ ] 原型图/线框图（Figma/Sketch）
- [ ] 高保真设计稿

### 9.2 资源文件
- [ ] 图标（SVG + 多倍 PNG）
- [ ] UI 元素素材
- [ ] 字体文件
- [ ] 动画资源（Lottie JSON）

### 9.3 技术文档
- [ ] 组件库说明
- [ ] 样式变量表
- [ ] 动画参数表

---

## 10. 附录

### 10.1 设计工具推荐
- **原型设计**：Figma、Sketch
- **矢量设计**：Adobe Illustrator、Figma
- **位图编辑**：Photoshop、Sketch
- **图标设计**：Figma、IconJar
- **动画制作**：Lottie、After Effects

### 10.2 参考资源
- Material Design 3
- Flutter 官方文档
- 火影忍者官方美术资料
- 日式动漫 UI 设计案例

### 10.3 设计评审流程
1. 初步设计 → 内部评审
2. 根据反馈修改 → 二次评审
3. 高保真设计 → 开发评审
4. 开发实现 → UI 验收
5. 用户测试 → 最终优化

---

**文档版本**：v1.0.0
**最后更新**：2026-02-13
**维护人**：UI/UX 设计团队
**审批人**：项目负责人
