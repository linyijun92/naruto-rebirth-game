# UI 界面实现文档

## 概述
本文档记录了"重生到火影忍者世界"游戏的 UI 界面实现情况。

## 已完成界面

### 1. 主题配色系统
**文件位置**: `src/frontend/lib/theme/app_colors.dart`

**功能**:
- 定义了火影忍者主题的完整配色方案
- 包括品牌色、背景色、文字色、状态色、稀有度色、属性色
- 提供了多种渐变色效果

**核心配色**:
```dart
// 品牌色
primary: #FF6B00 (橙色)
primaryLight: #FF8C00
primaryDark: #E66000

// 背景色
bgPrimary: #1C1C1C (深灰)
bgSecondary: #282828
bgCard: #303030

// 文字色
textPrimary: #FFFFFF
textSecondary: #BBBBBB
textDisabled: #666666

// 状态色
success: #43A047
warning: #FF9800
error: #E53935
info: #2196F3
```

**渐变效果**:
- 品牌渐变: 从 #FF8C00 到 #FF6B00
- 暗色背景渐变: 从 #1C1C1C 到 #282828
- 查克拉渐变: 从 #FF6B00 到 #FF8C00 到 #FFA726

---

### 2. 启动画面 (Splash Screen)
**文件位置**: `src/frontend/lib/screens/splash/splash_screen.dart`

**功能特性**:
- ✅ 火影主题背景（深灰渐变）
- ✅ 游戏 Logo 居中显示（带光晕效果）
- ✅ 动态加载进度条（带百分比显示）
- ✅ 流畅的加载动画效果（淡入 + 缩放）
- ✅ 自动跳转到主菜单（3 秒后）

**动画效果**:
- 淡入动画：2秒，缓入缓出
- 缩放动画：2秒，弹性效果
- 进度条动画：从 0% 到 100%

**视觉设计**:
- 背景：深灰渐变 (#1C1C1C → #282828)
- Logo：橙色渐变容器 + 闪电图标
- 标题："重生到火影忍者世界"，带阴影效果
- 副标题："火之意志，永不熄灭"
- 进度条：橙色主题色

---

### 3. 主菜单 (Main Menu)
**文件位置**: `src/frontend/lib/screens/menu/main_menu_screen.dart`

**功能特性**:
- ✅ 火影主题设计（橙色 + 深灰背景）
- ✅ 流畅的按钮进入动画（依次滑入）
- ✅ 完整的菜单按钮系统
- ✅ 对话框交互（新游戏确认、设置、关于）

**菜单按钮**:
1. **继续游戏** - 跳转到主界面
2. **新游戏** - 显示确认对话框后开始
3. **加载存档** - 跳转到存档界面
4. **设置** - 显示设置对话框
5. **关于** - 显示关于信息

**动画效果**:
- 按钮依次滑入：每个按钮间隔 0.1 秒
- 动画曲线：弹性缓出
- 动画时长：1.2 秒

**按钮样式**:
- 高度：64px
- 圆角：16px
- 渐变：橙色品牌渐变
- 阴影：橙色光晕
- 悬停效果：半透明覆盖

**对话框设计**:
- 背景：深灰卡片色 (#303030)
- 圆角：16px
- 标题：白色，加粗
- 内容：次要文字色
- 按钮：橙色渐变背景

---

### 4. 路由配置 (App Router)
**文件位置**: `src/frontend/lib/app.dart`

**路由配置**:
```dart
'/' → SplashScreen()        // 启动画面
'/menu' → MainMenuScreen()   // 主菜单
'/home' → HomeScreen()      // 主界面
'/saves' → SavesScreen()    // 存档界面
'/quest' → QuestScreen()    // 任务界面
'/shop' → ShopScreen()      // 商店界面
'/story' → StoryScreen()    // 剧情界面
```

**主题配置**:
- Material 3 设计
- 深色模式
- 使用 AppColors 配色系统
- 统一的卡片、按钮、对话框样式

---

## UI 设计规范

### 颜色使用指南

#### 按钮颜色
- **主要按钮**：橙色品牌渐变 (#FF6B00 → #FF8C00)
- **次要按钮**：背景色 (#303030) + 白色边框
- **禁用按钮**：背景色 + 禁用文字色 (#666666)

#### 文字层级
- **标题**：32px，加粗，白色
- **副标题**：20px，加粗，白色
- **正文**：16px，白色
- **次要文字**：14px，次要文字色 (#BBBBBB)
- **禁用文字**：12px，禁用文字色 (#666666)

#### 间距规范
- **页面内边距**：24px（水平），20px（垂直）
- **元素间距**：60px（主要），40px（中等），16px（小）
- **按钮高度**：64px
- **卡片圆角**：16px

---

## 动画规范

### 进入动画
- **持续时间**：1.0 - 1.5 秒
- **曲线**：EaseOutBack（弹性）
- **效果**：淡入 + 缩放/滑入

### 按钮交互
- **持续时间**：200ms
- **效果**：颜色变化 + 轻微缩放
- **反馈**：点击涟漪效果

### 页面切换
- **持续时间**：300ms
- **效果**：淡入淡出

---

## 响应式设计

### 断点
- **移动端**：< 600px
- **平板端**：600px - 900px
- **桌面端**：> 900px

### 自适应策略
- 按钮宽度根据屏幕宽度调整
- 文字大小使用相对单位
- 间距在移动端减小 20%

---

## 可访问性

### 对比度
- 所有文字与背景对比度 ≥ 4.5:1
- 符合 WCAG AA 标准

### 触控目标
- 最小触控区域：44x44px
- 按钮高度：64px（便于点击）

### 焦点状态
- 键盘导航支持
- 焦点指示器清晰可见

---

## 待实现功能

### 短期
- [ ] 添加音效系统
- [ ] 添加背景音乐
- [ ] 实现设置功能的实际逻辑
- [ ] 添加多语言支持

### 中期
- [ ] 优化动画性能
- [ ] 添加更多过渡效果
- [ ] 实现主题切换功能
- [ ] 添加暗色模式细节

### 长期
- [ ] 实现自定义主题
- [ ] 添加更多动画预设
- [ ] 优化加载性能
- [ ] 实现离线模式

---

## 技术栈

- **框架**: Flutter
- **状态管理**: Provider
- **动画**: Flutter Animation
- **路由**: Navigator 2.0
- **主题**: Material Design 3

---

## 文件结构

```
src/frontend/lib/
├── theme/
│   └── app_colors.dart          # 配色方案
├── screens/
│   ├── splash/
│   │   └── splash_screen.dart   # 启动画面
│   └── menu/
│       └── main_menu_screen.dart # 主菜单
├── widgets/
│   └── common/
│       └── custom_button.dart  # 自定义按钮
└── app.dart                     # 路由配置
```

---

## 设计原则

1. **一致性**: 所有界面使用统一的设计语言和配色
2. **层次感**: 通过颜色、大小、间距建立清晰的视觉层次
3. **反馈性**: 所有交互都有明确的视觉反馈
4. **性能优先**: 动画流畅，不卡顿
5. **可访问性**: 符合无障碍设计标准

---

**文档版本**: v1.0.0
**最后更新**: 2026-02-13
**维护人**: UI 开发工程师 1
