# UI å¼€å‘ä»»åŠ¡å®Œæˆæ€»ç»“

## ä»»åŠ¡æ¦‚è¿°
ä½œä¸º UI å¼€å‘å·¥ç¨‹å¸ˆ 2ï¼Œè´Ÿè´£å®ç°"é‡ç”Ÿåˆ°ç«å½±å¿è€…ä¸–ç•Œ"æ¸¸æˆçš„ä¸»ç•Œé¢ã€è®¾ç½®ç•Œé¢å’Œåº•éƒ¨å¯¼èˆªæ ç»„ä»¶ã€‚

## å·²å®Œæˆçš„å·¥ä½œ

### 1. åº•éƒ¨å¯¼èˆªæ ç»„ä»¶ âœ…
**æ–‡ä»¶**: `lib/widgets/common/bottom_nav.dart`

**åŠŸèƒ½ç‰¹æ€§**:
- âœ… ä½¿ç”¨ Provider ç®¡ç†é€‰ä¸­çŠ¶æ€
- âœ… 5ä¸ªå¯¼èˆªé¡¹ï¼šä¸»é¡µã€å‰§æƒ…ã€ä»»åŠ¡ã€å•†åº—ã€ä¸ªäºº
- âœ… å›¾æ ‡ + æ–‡å­—æ ‡ç­¾è®¾è®¡
- âœ… é€‰ä¸­æ—¶é«˜äº®æ˜¾ç¤ºï¼ˆæ©™è‰²ï¼‰
- âœ… æµç•…çš„åˆ‡æ¢åŠ¨ç”»
- âœ… å“åº”å¼è®¾è®¡

**è®¾è®¡äº®ç‚¹**:
- ä½¿ç”¨æ¸å˜è‰²èƒŒæ™¯ï¼ˆæ©™è‰²ç³»ï¼‰
- é€‰ä¸­çŠ¶æ€æœ‰èƒŒæ™¯é«˜äº®
- å›¾æ ‡å¤§å°å’Œå­—ä½“ç²—ç»†åŠ¨æ€å˜åŒ–
- å¹³æ»‘çš„è¿‡æ¸¡åŠ¨ç”»

---

### 2. è®¾ç½®ç•Œé¢ âœ…
**æ–‡ä»¶**: `lib/screens/settings/settings_screen.dart`

**åŠŸèƒ½æ¨¡å—**:

#### 2.1 éŸ³é‡æ§åˆ¶
- âœ… èƒŒæ™¯éŸ³ä¹éŸ³é‡ï¼ˆ0-100%ï¼‰
- âœ… éŸ³æ•ˆéŸ³é‡ï¼ˆ0-100%ï¼‰
- âœ… è¯­éŸ³éŸ³é‡ï¼ˆ0-100%ï¼‰
- âœ… å®æ—¶æ»‘å—æ§åˆ¶
- âœ… æ•°å€¼æ˜¾ç¤º

#### 2.2 ç”»è´¨è®¾ç½®
- âœ… ä½/ä¸­/é«˜ä¸‰ç§ç”»è´¨é€‰é¡¹
- âœ… å›¾æ ‡åŒ–é€‰æ‹©
- âœ… é€‰ä¸­çŠ¶æ€é«˜äº®

#### 2.3 è¯­è¨€é€‰æ‹©
- âœ… ç®€ä½“ä¸­æ–‡ï¼ˆğŸ‡¨ğŸ‡³ï¼‰
- âœ… ç¹ä½“ä¸­æ–‡ï¼ˆğŸ‡¹ğŸ‡¼ï¼‰
- âœ… è‹±æ–‡ï¼ˆğŸ‡ºğŸ‡¸ï¼‰
- âœ… æ——å¸œå›¾æ ‡ + è¯­è¨€åç§°

#### 2.4 å­˜æ¡£ç®¡ç†
- âœ… æ¸…ç†ç¼“å­˜åŠŸèƒ½
- âœ… æŸ¥çœ‹å­˜æ¡£å¤§å°åŠŸèƒ½
- âœ… ç¡®è®¤å¯¹è¯æ¡†

#### 2.5 å…³äºä¿¡æ¯
- âœ… ç‰ˆæœ¬ä¿¡æ¯
- âœ… æ„å»ºå·
- âœ… å¼€å‘è€…ä¿¡æ¯

**æŠ€æœ¯å®ç°**:
- âœ… ä½¿ç”¨ Hive æœ¬åœ°å­˜å‚¨ä¿å­˜è®¾ç½®
- âœ… é€€å‡ºè®¾ç½®æ—¶è‡ªåŠ¨ä¿å­˜
- âœ… PopScope ç›‘å¬è¿”å›äº‹ä»¶
- âœ… å®æ—¶åé¦ˆï¼ˆSnackBarï¼‰

---

### 3. æ¸¸æˆä¸»ç•Œé¢ âœ…
**æ–‡ä»¶**: `lib/screens/home/game_home_screen.dart`

**åŠŸèƒ½æ¨¡å—**:

#### 3.1 é¡¶éƒ¨ç©å®¶ä¿¡æ¯æ 
- âœ… ç©å®¶å¤´åƒï¼ˆåœ†å½¢å¸¦è¾¹æ¡†ï¼‰
- âœ… ç©å®¶åå­—
- âœ… ç­‰çº§æ˜¾ç¤ºï¼ˆå¸¦å¾½ç« æ ·å¼ï¼‰
- âœ… ç»éªŒæ¡ï¼ˆå¸¦è¿›åº¦æ˜¾ç¤ºï¼‰
- âœ… è´§å¸æ˜¾ç¤ºï¼ˆé“¶ä¸¤ï¼‰

#### 3.2 å·¦ä¾§å±æ€§å¿«é€Ÿé¢„è§ˆ
- âœ… æŸ¥å…‹æ‹‰å±æ€§ï¼ˆè“è‰²ï¼‰
- âœ… å¿æœ¯å±æ€§ï¼ˆç´«è‰²ï¼‰
- âœ… ä½“æœ¯å±æ€§ï¼ˆçº¢è‰²ï¼‰
- âœ… æ™ºåŠ›å±æ€§ï¼ˆç»¿è‰²ï¼‰
- âœ… é€Ÿåº¦å±æ€§ï¼ˆé’è‰²ï¼‰
- âœ… å¹¸è¿å±æ€§ï¼ˆç¥ç€è‰²ï¼‰
- âœ… å±æ€§å€¼ + è¿›åº¦æ¡å¯è§†åŒ–

#### 3.3 ä¸­é—´åœ°å›¾åŒºåŸŸ
- âœ… æœ¨å¶æ‘ï¼ˆç«ä¹‹å›½å¿æ‘ï¼‰
- âœ… ç ‚éšæ‘ï¼ˆé£ä¹‹å›½å¿æ‘ï¼‰
- âœ… é›¾éšæ‘ï¼ˆæ°´ä¹‹å›½å¿æ‘ï¼‰
- âœ… äº‘éšæ‘ï¼ˆé›·ä¹‹å›½å¿æ‘ï¼‰
- âœ… å²©éšæ‘ï¼ˆåœŸä¹‹å›½å¿æ‘ï¼‰
- âœ… éŸ³éšæ‘ï¼ˆç”°ä¹‹å›½å¿æ‘ï¼‰
- âœ… ç½‘æ ¼å¸ƒå±€ï¼ˆ2åˆ—ï¼‰
- âœ… ç‚¹å‡»å¯æŸ¥çœ‹åœ°ç‚¹è¯¦æƒ…

#### 3.4 å³ä¾§å¿«æ·åŠŸèƒ½æŒ‰é’®
- âœ… å‰§æƒ…æŒ‰é’®
- âœ… ä»»åŠ¡æŒ‰é’®
- âœ… å•†åº—æŒ‰é’®
- âœ… å±æ€§æŒ‰é’®
- âœ… è®¾ç½®æŒ‰é’®
- âœ… é€šçŸ¥åŒºåŸŸï¼ˆæ˜¾ç¤ºæ–°ä»»åŠ¡æç¤ºï¼‰

**è®¾è®¡äº®ç‚¹**:
- âœ… ç«å½±ä¸»é¢˜è®¾è®¡ï¼ˆç´«è‰²æ¸å˜èƒŒæ™¯ï¼‰
- âœ… å“åº”å¼ä¸‰æ å¸ƒå±€
- âœ… å¡ç‰‡åŒ–è®¾è®¡
- âœ… åŠé€æ˜ç»ç’ƒæ•ˆæœ
- âœ… æµç•…çš„äº¤äº’åŠ¨ç”»

---

### 4. å¯¼èˆªçŠ¶æ€ç®¡ç† Provider âœ…
**æ–‡ä»¶**: `lib/providers/navigation_provider.dart`

**åŠŸèƒ½**:
- âœ… ç®¡ç†åº•éƒ¨å¯¼èˆªæ é€‰ä¸­çŠ¶æ€
- âœ… æä¾›5ä¸ªé¢„å®šä¹‰ç´¢å¼•å¸¸é‡
- âœ… æä¾›ä¾¿æ·çš„å¯¼èˆªæ–¹æ³•
- âœ… ä½¿ç”¨ ChangeNotifier å®ç°çŠ¶æ€é€šçŸ¥

---

### 5. ä¸»ç¨‹åºé…ç½®æ›´æ–° âœ…
**æ–‡ä»¶**: `lib/main.dart`

**æ›´æ–°å†…å®¹**:
- âœ… å¯¼å…¥ NavigationProvider
- âœ… å¯¼å…¥ SettingsScreen
- âœ… æ·»åŠ  NavigationProvider åˆ° Provider åˆ—è¡¨
- âœ… é…ç½®è·¯ç”±ï¼š`/settings` â†’ SettingsScreen

---

## ä»£ç è´¨é‡

### è®¾è®¡è§„èŒƒéµå¾ª
- âœ… ä½¿ç”¨ç«å½±ä¸»é¢˜è‰²ç³»ï¼ˆæ©™è‰²ã€ç´«è‰²ï¼‰
- âœ… Material Design 3 è§„èŒƒ
- âœ… å“åº”å¼å¸ƒå±€
- âœ… æµç•…çš„åŠ¨ç”»è¿‡æ¸¡
- âœ… ä¸€è‡´çš„åœ†è§’å’Œé—´è·

### ä»£ç ç»„ç»‡
- âœ… æ–‡ä»¶ç»“æ„æ¸…æ™°
- âœ… ç»„ä»¶åŒ–è®¾è®¡
- âœ… å¯å¤ç”¨çš„ Widget
- âœ… èŒè´£åˆ†ç¦»

### ç”¨æˆ·ä½“éªŒ
- âœ… ç›´è§‚çš„ç•Œé¢è®¾è®¡
- âœ… å³æ—¶åé¦ˆï¼ˆSnackBarã€å¯¹è¯æ¡†ï¼‰
- âœ… æ¸…æ™°çš„è§†è§‰å±‚æ¬¡
- âœ… æ˜“äºæ“ä½œçš„æ§ä»¶

---

## å¾…é›†æˆé¡¹

### 1. åº”ç”¨å…¥å£é›†æˆ
éœ€è¦ä¿®æ”¹ `app.dart`ï¼Œåœ¨ç”¨æˆ·ç™»å½•/åˆ›å»ºè§’è‰²åå¯¼èˆªåˆ° `GameHomeScreen`ï¼š

```dart
// åœ¨é€‚å½“çš„åœ°æ–¹æ·»åŠ å¯¼èˆªé€»è¾‘
Navigator.pushReplacementNamed(context, '/game_home');
```

### 2. å…¶ä»–å±å¹•å¼€å‘
ä»¥ä¸‹å±å¹•å¾…å¼€å‘ä»¥é…åˆåº•éƒ¨å¯¼èˆªæ ï¼š
- å‰§æƒ…å±å¹• (`lib/screens/story/story_list_screen.dart`)
- ä»»åŠ¡å±å¹• (`lib/screens/quest/quest_list_screen.dart`)
- å•†åº—å±å¹• (`lib/screens/shop/shop_screen.dart`)
- ä¸ªäººå±å¹• (`lib/screens/profile/profile_screen.dart`)

### 3. è·¯ç”±é…ç½®
å»ºè®®åœ¨ `main.dart` ä¸­æ·»åŠ å®Œæ•´çš„è·¯ç”±é…ç½®ï¼š

```dart
routes: {
  '/': (context) => const SplashScreen(),
  '/home': (context) => const HomeScreen(),
  '/game_home': (context) => const GameHomeScreen(),
  '/settings': (context) => const SettingsScreen(),
  '/story': (context) => const StoryListScreen(),
  '/quest': (context) => const QuestListScreen(),
  '/shop': (context) => const ShopScreen(),
  '/profile': (context) => const ProfileScreen(),
},
```

---

## ä½¿ç”¨è¯´æ˜

### 1. å¯¼èˆªåˆ°åº•éƒ¨å¯¼èˆªæ 
```dart
import '../../widgets/common/bottom_nav.dart';

// åœ¨ä¸»ç•Œé¢åº•éƒ¨æ·»åŠ 
const BottomNav(),
```

### 2. å¯¼èˆªåˆ°è®¾ç½®ç•Œé¢
```dart
Navigator.of(context).pushNamed('/settings');
```

### 3. ä½¿ç”¨ NavigationProvider
```dart
final navProvider = Provider.of<NavigationProvider>(context, listen: false);
navProvider.navigateToStory();
navProvider.navigateToQuest();
// æˆ–ç›´æ¥è®¾ç½®ç´¢å¼•
navProvider.setIndex(1);
```

---

## æµ‹è¯•å»ºè®®

### åŠŸèƒ½æµ‹è¯•
- [ ] æµ‹è¯•åº•éƒ¨å¯¼èˆªæ åˆ‡æ¢æ˜¯å¦æµç•…
- [ ] æµ‹è¯•è®¾ç½®é¡¹ä¿å­˜å’ŒåŠ è½½
- [ ] æµ‹è¯•éŸ³é‡æ»‘å—æ‹–åŠ¨
- [ ] æµ‹è¯•ç”»è´¨å’Œè¯­è¨€åˆ‡æ¢
- [ ] æµ‹è¯•åœ°å›¾å¡ç‰‡ç‚¹å‡»äº‹ä»¶
- [ ] æµ‹è¯•å¿«æ·æŒ‰é’®å¯¼èˆª
- [ ] æµ‹è¯•é€€å‡ºè®¾ç½®æ—¶è‡ªåŠ¨ä¿å­˜

### UI æµ‹è¯•
- [ ] éªŒè¯å“åº”å¼å¸ƒå±€åœ¨ä¸åŒå±å¹•å°ºå¯¸ä¸‹çš„è¡¨ç°
- [ ] æ£€æŸ¥é¢œè‰²å¯¹æ¯”åº¦
- [ ] éªŒè¯åŠ¨ç”»æµç•…æ€§
- [ ] æµ‹è¯•æ·±è‰²æ¨¡å¼ï¼ˆå¦‚æœæ”¯æŒï¼‰

---

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Flutter
- **çŠ¶æ€ç®¡ç†**: Provider
- **æœ¬åœ°å­˜å‚¨**: Hive
- **UI ç»„ä»¶**: Material Design 3
- **å›¾æ ‡**: Material Icons

---

## æ–‡ä»¶æ¸…å•

### æ–°å»ºæ–‡ä»¶
1. `lib/providers/navigation_provider.dart` - å¯¼èˆªçŠ¶æ€ç®¡ç†
2. `lib/widgets/common/bottom_nav.dart` - åº•éƒ¨å¯¼èˆªæ ç»„ä»¶
3. `lib/screens/settings/settings_screen.dart` - è®¾ç½®ç•Œé¢
4. `lib/screens/home/game_home_screen.dart` - æ¸¸æˆä¸»ç•Œé¢

### ä¿®æ”¹æ–‡ä»¶
1. `lib/main.dart` - æ·»åŠ  NavigationProvider å’Œè·¯ç”±é…ç½®

---

## å®Œæˆæ—¶é—´
2026-02-13

## å¼€å‘è€…
UI å¼€å‘å·¥ç¨‹å¸ˆ 2

## å¤‡æ³¨
æ‰€æœ‰ç•Œé¢å‡æŒ‰ç…§ç«å½±å¿è€…ä¸»é¢˜è®¾è®¡ï¼Œä½¿ç”¨æ©™è‰²å’Œç´«è‰²ä½œä¸ºä¸»è‰²è°ƒï¼Œç¡®ä¿è§†è§‰ä¸€è‡´æ€§å’Œæ¸¸æˆæ°›å›´ã€‚
